{"version":3,"sources":["webpack:///webpack/bootstrap 6a85ef526cbcbdb04f2d","webpack:///./client/index.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;AC7DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,GAAG;AACH;AACA;;AAEA;AACA,kBAAkB,oBAAoB;AACtC;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,0DAA0D;AAC1D","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 6a85ef526cbcbdb04f2d","// //code to use when ready to parse actual data. this calculates the time to resolve each issue in a row in the dataset and sets the time to the 'value for that date'\nvar svg = d3.select(\"#chart\"),\n  width = +svg.attr(\"width\"),\n  height = +svg.attr(\"height\");\nvar div = d3\n  .select(\"body\")\n  .append(\"div\")\n  .attr(\"class\", \"tooltip\")\n  .style(\"opacity\", 0);\n// var format = d3.format(\",d\");\nvar color = d3.scaleOrdinal(d3.schemeCategory10);\n\nvar pack = d3\n  .pack()\n  .size([width, height])\n  .padding(1.5);\n\nd3.csv(\n  \"311_Service_Requests_from_2010_to_Present.csv\",\n  function(d) {\n    let createdDate = new Date(d[\"Created Date\"]);\n    let closedDate = new Date(d[\"Closed Date\"]);\n    let resolutionTime = closedDate - createdDate;\n\n    d.value = resolutionTime;\n    //convert the milliseconds elapsed between issue open/close into string with days and minutes\n    function msToTime(duration) {\n      var minutes = parseInt((duration / (1000 * 60)) % 60),\n        hours = parseInt((duration / (1000 * 60 * 60)) % 24);\n\n      hours = hours < 10 ? \"0\" + hours : hours;\n      minutes = minutes < 10 ? \"0\" + minutes : minutes;\n      return hours + \" hour(s) \" + minutes + \" minutes\";\n    }\n\n    d.durationText = msToTime(resolutionTime);\n\n    if (d.value) return d;\n  },\n  function(error, classes) {\n    if (error) throw error;\n\n    var root = d3\n      .hierarchy({ children: classes })\n      .sum(function(d) {\n        return d.value;\n      })\n      .each(function(d) {\n        // if ((Borough = d.data[\"Borough\"])) {\n        d.borough = d.data[\"Borough\"];\n        // }\n      });\n\n    var node = svg\n      .selectAll(\".node\")\n      .data(pack(root).leaves())\n      .enter()\n      .append(\"g\")\n      .attr(\"class\", \"node inactive\")\n      .attr(\"transform\", function(d) {\n        return \"translate(\" + d.x + \",\" + d.y + \")\";\n      })\n      .on(\"mouseover\", handleMouseOver)\n      .on(\"mouseout\", handleMouseOut);\n      \n    node\n      .append(\"circle\")\n      .attr(\"borough\", function(d) {\n        return d.borough;\n      })\n      .transition()\n      .delay(100)\n      .attr(\"r\", function(d) {\n        return d.r;\n      })\n      .style(\"opacity\", 1.0)\n      .style(\"fill\", function(d) {\n        return color(d.borough);\n      });\n\n    node\n      .append(\"clipPath\")\n      .attr(\"id\", function(d) {\n        return \"clip-\" + d.data[\"Descriptor\"];\n      })\n      .append(\"use\")\n      .attr(\"href\", function(d) {\n        return \"#\" + d.data[\"Descriptor\"];\n      });\n\n    node\n    .append(\"text\")\n    .attr(\"clip-path\", function(d) {\n      return \"url(#clip-\" + d.data[\"Descriptor\"] + \")\";\n    })\n    .selectAll(\"tspan\")\n      .data(function(d) {\n        return d.data[\"Descriptor\"].split(/(?=[A-Z][^A-Z])/g);\n      })\n      .enter()\n      .append(\"tspan\")\n      .attr(\"x\", 0)\n      .attr(\"y\", function(d, i, nodes) {\n        return 13 + (i - nodes.length / 2 - 0.5) * 10;\n      })\n      .text(function(d) {\n        return d;\n      });\n  }\n);\n\nfunction handleMouseOver(d, i) {\n  // Add interactivity\n  d3.select(this).style(\"opacity\", 0.25);\n  // Use D3 to select element, change color and size\n  d3.select(this)\n    .select(\"circle\")\n    // .style(\"opacity\", 0)\n    .attr(\"r\", function() {\n      // d.r = d.r * 2\n      return d.r * 1.2;\n    });\n  div\n    .transition()\n    .duration(200)\n    .style(\"opacity\", 0.9);\n  div\n    .text(\"Complaint Resolution Time: \" + d.data.durationText)\n    .style(\"left\", d3.event.pageX + \"px\")\n    .style(\"top\", d3.event.pageY - 28 + \"px\");\n}\n\nfunction handleMouseOut(d, i) {\n  // Use D3 to select element, change color back to normal\n  d3.select(this).style(\"opacity\", 1);\n\n  d3.select(this)\n    .select(\"circle\")\n    // .style(\"opacity\", 1)\n    .attr(\"fill\", \"black\")\n    .attr(\"r\", function() {\n      return d.r;\n    });\n\n  div\n    .transition()\n    .duration(500)\n    .style(\"opacity\", 0);\n  // Select text by id and then remove\n  // d3.select(\"#t\" + d.x + \"-\" + d.y + \"-\" + i).remove(); // Remove text location\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./client/index.js\n// module id = 0\n// module chunks = 0"],"sourceRoot":""}